<!doctype html>
<html>
  <head>
    <title>Upsilon Intro to Mongoose with Persons Unknown</title>
    <script src="/vendor/angular.min.js"></script>
    <script src="/scripts/client.js"></script>
    <script src="/scripts/person.controller.js" charset="utf-8"></script>
    <script src="/scripts/person.service.js" charset="utf-8"></script>
    <link href="https://fonts.googleapis.com/css?family=Abril+Fatface" rel="stylesheet">
    <link rel="stylesheet" href="/vendor/normalize.css" />
    <link rel="stylesheet" href="/vendor/skeleton.css" />
    <link rel="stylesheet" href="/styles/main.css" />
  </head>
  <body ng-app="personApp" >
    <main class="container" ng-controller="PersonController as PCtrl">
      <h1>So People Right</h1>
      <!-- Submit a person -->
      <section id="personSubmission" class="row">
        <h2>Submit a person</h2>
        <form id="personForm">
          <div class="row">
            <div class="three columns">
              <label for="currentPersonFirstName">First Name:</label>
              <input type="text" id="currentPersonFirstName" name="firstName" ng-model="PCtrl.person.firstName" />
            </div>

            <div class="three columns">
              <label for="currentPersonLastName">Last Name:</label>
              <input type="text" id="currentPersonLastName" name="lastName" ng-model="PCtrl.person.lastName" />

            </div>

            <div class="three columns">
              <label for="currentPersonHomeTown">Hometown:</label>
              <input type="text" id="currentPersonHomeTown" name="hometown" ng-model="PCtrl.person.hometown" />
            </div>

            <div class="three columns">
              <label for="currentPersonFavMovie">Favorite Movie:</label>
              <input type="text" id="currentPersonFavMovie" name="FavMovie" ng-model="PCtrl.person.favMovie" />
                <button ng-click="PCtrl.addPerson(PCtrl.person)">Submit</button>
            </div>

          </div>
        </form>
      </section>
      <!-- See submitted people -->
      <section id="persons" class="row">
        <h2 >Person Listing</h2>
        Sorting By: <select ng-model="PCtrl.sortName" ng-dropdown >
          <option ng-option value=''>ID</option>
          <option ng-option value="firstName">First Name</option>
          <option ng-option value="lastName" >Last Name</option>
          <option ng-option value="hometown">Hometown</option>
          <option ng-option value="favMovie">Favorite Movie</option>
        </select>
        <div id="personList">
          <div class="person row" ng-repeat="person in PCtrl.PersonList | orderBy: PCtrl.sortName">
            <form>
            <div class="three columns">
              <label for="firstName">First Name:</label>
              <input type="text" id="firstName" name="firstName"  ng-model="PCtrl[person._id].firstName" ng-init="PCtrl[person._id].firstName = person.firstName"/>
            </div>
            <div class="three columns">
              <label for="lastName">Last Name:</label>
              <input type="text" id="lastName" name="lastName" ng-model="PCtrl[person._id].lastName" ng-init="PCtrl[person._id].lastName = person.lastName"/>
            </div>
            <div class="three columns">
              <label for="hometown">Hometown:</label>
              <input type="text" id="hometown" name="hometown" ng-model="PCtrl[person._id].hometown" ng-init="PCtrl[person._id].hometown = person.hometown"/>
            </div>
            <div class="three columns">
              <label for="favMovie">Favorite Movie:</label>
              <input type="text" id="favMovie" name="favMovie" ng-model="PCtrl[person._id].favMovie" ng-init="PCtrl[person._id].favMovie = person.favMovie"/>
            </div>

            <div class="twelve columns">
              <button class="update" ng-click="PCtrl.updatePerson(person._id, PCtrl[person._id])">Update</button>
              <button class="delete" ng-click="PCtrl.deletePerson(person._id)">Delete</button>
              <button class="reset" ng-click="PCtrl.resetList()">Reset</button>
            </div>


            </form>
          </div>
        </div>
      </section>
    </main>
  </body>
</html>
